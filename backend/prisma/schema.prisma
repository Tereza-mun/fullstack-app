datasource db {
provider = "postgresql"
url = env("DATABASE_URL")
}


generator client {
provider = "prisma-client-js"
}


model Product {
id Int @id @default(autoincrement())
name Json
description Json?
specifications Json?
price Float
category String @default("accessories")
imageUrl String?
createdAt DateTime @default(now())
}

model Order {
id Int @id @default(autoincrement())
firstName String
lastName String
customerEmail String
phonePrefix String?
phoneNumber String?
address String?
city String?
postalCode String?
country String?
notes String?
deliveryMethod String @default("delivery")
paymentMethod String @default("cash")
totalPrice Float
status String @default("pending")
items OrderItem[]
createdAt DateTime @default(now())
}

model OrderItem {
id Int @id @default(autoincrement())
orderId Int
order Order @relation(fields: [orderId], references: [id])
productId Int
productName Json
productPrice Float
quantity Int
}

model User {
id Int @id @default(autoincrement())
email String @unique
password String
firstName String
lastName String
phonePrefix String?
phoneNumber String?
deliveryAddress String?
deliveryCity String?
deliveryPostalCode String?
deliveryCountry String?
billingAddress String?
billingCity String?
billingPostalCode String?
billingCountry String?
refreshToken String?
isEmailVerified Boolean @default(false)
emailVerificationToken String?
emailVerificationExpires DateTime?
language String @default("en")
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
}